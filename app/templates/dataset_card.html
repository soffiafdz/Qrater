<div class="col-sm">
  <div class="card h-100 text-white bg-dark">
    <div class="card-header bg-secondary">
      <div class="progress" style="height: 5px">
        <div class="progress-bar bg-success"
             role="progressbar"
             style="width: {{ n_imgs['pass100'][loop_.index0] }}%"
             aria-valuemin="0"
             aria-valuemax="100"></div>
        <div class="progress-bar bg-warning"
             role="progressbar"
             style="width: {{ n_imgs['warning100'][loop_.index0] }}%"
             aria-valuemin="0"
             aria-valuemax="100"></div>
        <div class="progress-bar bg-danger"
             role="progressbar"
             style="width: {{ n_imgs['fail100'][loop_.index0] }}%"
             aria-valuemin="0"
             aria-valuemax="100"></div>
      </div>
    </div>
    <div class="card-body">
      <h3
        class="card-title text-center mb-2"
        >{{ DS.name }} {% if DS.private -%}
        <i class="bi bi-eye-slash"></i>
        {%- endif -%}
      </h3>
      <div class="d-flex justify-content-around my-3">
        <a
          href="{{ url_for('dt.datatable',
            dataset=DS.name, all_raters=all_raters) }}"
          class="btn btn-light text-dark"
          >
          <span>Images </span>
          <span
            class="badge rounded-pill bg-dark"
            >{{ n_imgs['total'][loop_.index0] }}</span></a>
        <a
          href="{{ url_for('dt.datatable', dataset=DS.name,
            all_raters=all_raters, only_ratings=1) }}"
          class="btn btn-light text-dark"
          >
          <span>Ratings </span>
          <span
            class="badge rounded-pill bg-dark"
            >{{ n_imgs['ratings'][loop_.index0] }}</span></a>
      </div>
      <div class="container mb-5">
        <div class="list-group">
          {% if n_imgs['pending'][loop_.index0] > 0 %}
          <a
            class="list-group-item list-group-item-action list-group-item-dark
              d-flex justify-content-between"
            href="{{ url_for('main.rate', name_dataset=DS.name,
              rating_filter=0, all_raters=all_raters) }}"
            ><div class="me-auto">Pending</div>
            <span
              class="badge rounded-pill bg-light text-dark"
              >{{ n_imgs['pending'][loop_.index0] }}</span>
          </a>
          {% endif %}
          {% if n_imgs['pass'][loop_.index0] > 0 %}
          <a
            class="list-group-item list-group-item-action list-group-item-success
              d-flex justify-content-between"
            href="{{ url_for('main.rate', name_dataset=DS.name,
              rating_filter=1, all_raters=all_raters) }}"
            ><div class="me-auto">Pass</div>
            <span
              class="badge rounded-pill bg-light text-dark"
              >{{ n_imgs['pass'][loop_.index0] }}</span>
          </a>
          {% endif %}
          {% if n_imgs['warning'][loop_.index0] > 0 %}
          <a
            class="list-group-item list-group-item-action list-group-item-warning
              d-flex justify-content-between"
            href="{{ url_for('main.rate', name_dataset=DS.name,
              rating_filter=2, all_raters=all_raters) }}"
            ><div class="me-auto">Warning</div>
            <span
              class="badge rounded-pill bg-light text-dark"
              >{{ n_imgs['warning'][loop_.index0] }}</span>
          </a>
          {% endif %}
          {% if n_imgs['fail'][loop_.index0] > 0 %}
          <a
            class="list-group-item list-group-item-action list-group-item-danger
              d-flex justify-content-between"
            href="{{ url_for('main.rate', name_dataset=DS.name,
              rating_filter=3, all_raters=all_raters) }}"
            ><div class="me-auto">Fail</div>
            <span
              class="badge rounded-pill bg-light text-dark"
              >{{ n_imgs['fail'][loop_.index0] }}</span>
          </a>
          {% endif %}
        </div>
      </div>
      <div
        class="position-absolute bottom-0 start-50 translate-middle-x
          d-grid gap-2 col-6 mx-auto"
          >
        <a
        href="{{ url_for('main.rate', name_dataset=DS.name,
          all_raters=all_raters) }}"
        class="btn btn-light mb-2"
        >Rate
        </a>
      </div>
    </div>
  </div>
</div>
